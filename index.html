<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.1/css/all.css" integrity="sha384-gfdkjb5BdAXd+lj+gudLWI+BXq4IuLW5IT+brZEZsLFm++aCMlF1V92rMkPaX4PP" crossorigin="anonymous">
    <link rel="shortcut icon" href="#" />
    <title>vue carousel</title>
  </head>
  <body>
    <div id="app">
      <div class="carousel" @touchstart="swipeStart" @touchend="swipeEnd" @mousedown="swipeStart" @mouseup="swipeEnd">
        <div class="carousel-items">
          <div class="carousel-item">
            <transition :name="bgImgFade">
              <div class="carousel-item-img-desktop" :style="{ backgroundImage: `url('${itemHandler.desktopImg}')` }" v-if="show"></div>
            </transition>
            <transition :name="bgImgFade">
              <div class="carousel-item-img-mobile background-left-enter" :style="
              { backgroundImage: `url('${itemHandler.mobileImg}')` }" v-if="show"></div>
            </transition>
            <div class="carousel-item-content">
              <div class="content-inner" :style="
              { top: `${moveY}px` }">
                <transition :name="logoFade">
                  <div class="carousel-item-logo" v-if="show">
                    <a :href="itemHandler.url"><img :src="itemHandler.logo" :style="
                      { opacity: `${1-moveY*0.02}` }"></a>
                  </div>
                </transition>
                <div class="carousel-item-desc">
                  <transition :name="titleFade">
                    <h1 class="carousel-item-title" v-if="show"><a :href="itemHandler.url">{{ itemHandler.title }}</a></h1>
                  </transition>    
                  <transition :name="buttonFade">
                    <a :href="itemHandler.url" v-if="show"><button class="carousel-item-button">{{ itemHandler.button }}</button></a>
                  </transition>
                </div>
              </div>
            </div>
          </div>
        <a class="carousel-control carousel-control-prev" href="" @click.prevent="prevNextHandler(-1)"><i class="fas fa-angle-left"></i></a>
        <a class="carousel-control carousel-control-next" href="" @click.prevent="prevNextHandler(1)"><i class="fas fa-angle-right"></i></a>
        </div>
      </div>
      <ul class="carousel-indicators">
        <li v-for="(tab, i) in carouselItems" :key="i" @click="tabHandler(i)">
          <div class="carousel-index-border" :class="{ 'border-active': i === index }">
            <div class="loading-bar" v-show="i === index && !clicked"></div>
          </div>
        </li>
      </ul>
      <div class="content"></div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/vue@2.5.21/dist/vue.js"></script>
    <script src="main.js"></script>
  </body>
</html>